# 安装和使用指南

## 🚀 快速开始

### 步骤 1: 准备文件

1. **下载项目文件**
   - 确保所有文件都在 `chrome-bookmark-semantic-search` 文件夹中
   - 检查文件结构是否完整

2. **添加图标文件（可选）**
   - 在 `icons/` 文件夹中添加 icon16.png, icon48.png, icon128.png
   - 如果没有图标，插件仍然可以正常工作

### 步骤 2: 加载到Chrome

1. **打开Chrome扩展页面**
   ```
   在地址栏输入: chrome://extensions/
   ```

2. **启用开发者模式**
   - 在页面右上角找到"开发者模式"开关
   - 将其切换到"开启"状态

3. **加载扩展**
   - 点击"加载已解压的扩展程序"按钮
   - 选择 `chrome-bookmark-semantic-search` 文件夹
   - 点击"选择文件夹"

### 步骤 3: 等待初始化

1. **首次运行**
   - 插件会自动下载AI模型（约30MB）
   - 处理现有书签建立语义索引
   - 整个过程可能需要2-5分钟

2. **进度监控**
   - 点击插件图标查看初始化进度
   - 可以在浏览器控制台查看详细日志

### 步骤 4: 开始使用

1. **打开搜索界面**
   - 点击浏览器工具栏中的插件图标
   - 或使用快捷键（如果设置了的话）

2. **进行搜索**
   - 在搜索框中输入要搜索的内容
   - 例如："课本"、"编程"、"设计"
   - 系统会实时显示相关书签

3. **打开书签**
   - 点击任意搜索结果
   - 会在新标签页中打开对应网站

## 🔧 常见问题解决

### 问题 1: 加载失败

**症状**: 扩展无法加载或显示错误

**解决方案**:
```
1. 检查文件夹中是否包含 manifest.json
2. 确保Chrome版本 >= 88.0
3. 刷新扩展页面后重新加载
4. 检查浏览器控制台的错误信息
```

### 问题 2: 初始化卡住

**症状**: 初始化进度不动或失败

**解决方案**:
```
1. 检查网络连接（首次需要下载模型）
2. 关闭其他占用内存的标签页
3. 重启浏览器后重试
4. 清除浏览器缓存
```

### 问题 3: 搜索无结果

**症状**: 搜索后没有找到任何书签

**解决方案**:
```
1. 确保已有足够的书签数据
2. 尝试使用更通用的搜索词
3. 检查书签标题是否包含有意义的信息
4. 等待初始化完全完成
```

### 问题 4: 性能问题

**症状**: 插件运行缓慢或占用过多内存

**解决方案**:
```
1. 减少同时打开的标签页数量
2. 重启浏览器释放内存
3. 如果书签数量很多（>5000），分批处理
4. 关闭不必要的其他扩展
```

## 🛠️ 开发者选项

### 启用调试模式

1. **查看详细日志**
   ```javascript
   // 在 background.js 中取消注释调试代码
   console.log('调试信息:', ...);
   ```

2. **检查后台页面**
   ```
   chrome://extensions/ → 插件详情 → "检查视图" → 背景页
   ```

### 自定义配置

1. **修改搜索参数**
   ```javascript
   // 在 popup.js 中修改
   const response = await this.sendMessage({
     type: 'SEARCH_BOOKMARKS',
     query: query,
     topK: 20  // 修改返回结果数量
   });
   ```

2. **调整模型参数**
   ```javascript
   // 在 background.js 中修改
   const batchSize = 20;  // 修改批处理大小
   ```

## 📊 性能优化建议

### 对于大量书签用户（>1000）

1. **增加批处理大小**
   ```javascript
   const batchSize = 50; // 从20增加到50
   ```

2. **启用增量更新**
   - 插件会自动检测新书签
   - 只处理未索引的书签

3. **定期清理索引**
   - 删除已不存在的书签的索引
   - 释放存储空间

### 内存优化

1. **关闭自动搜索**
   ```javascript
   // 在 popup.js 中注释掉实时搜索
   // searchTimeout = setTimeout(() => {
   //   this.performSearch();
   // }, 500);
   ```

2. **手动触发搜索**
   - 只在按下回车或点击搜索按钮时搜索

## 🔄 更新插件

### 方法 1: 手动更新

1. 下载新版本文件
2. 替换旧文件
3. 在扩展页面点击"重新加载"

### 方法 2: 开发模式更新

1. 修改代码文件
2. 保存更改
3. 在扩展页面点击刷新图标

## 🚫 卸载插件

1. **从Chrome移除**
   ```
   chrome://extensions/ → 找到插件 → 点击"移除"
   ```

2. **清理数据**
   ```
   浏览器会自动清理插件数据
   本地文件需要手动删除
   ```

## 📞 获取帮助

如果遇到其他问题：

1. **查看浏览器控制台**
   - F12 → Console 标签
   - 查看错误信息

2. **检查网络状况**
   - 确保能访问CDN资源
   - 检查防火墙设置

3. **重置插件**
   - 移除后重新安装
   - 清除浏览器缓存

## ⚡ 性能基准

### 典型性能指标

- **模型加载**: 30-60秒（首次）
- **书签索引**: 1000个书签约1分钟
- **搜索速度**: <1秒（对1000个书签）
- **内存占用**: 50-100MB

### 硬件要求

- **最低**: 4GB RAM, Chrome 88+
- **推荐**: 8GB RAM, Chrome 最新版
- **网络**: 初始化时需要网络连接

---

*安装完成后，您将拥有一个强大的语义书签搜索工具，能够真正理解您的搜索意图！*
